# Git æ“ä½œæŒ‡å— - ç‰ˆæœ¬ä¿å­˜ä¸åˆå¹¶

## ğŸ“¦ ä¸€ã€ä¿å­˜å½“å‰ç‰ˆæœ¬ï¼ˆåˆ›å»ºå¤‡ä»½ï¼‰

### 1. æŸ¥çœ‹å½“å‰çŠ¶æ€
```bash
# æŸ¥çœ‹æœ‰å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹äº†
git status

# æŸ¥çœ‹å…·ä½“çš„ä¿®æ”¹å†…å®¹
git diff
```

### 2. æäº¤å½“å‰æ‰€æœ‰æ›´æ”¹åˆ°æœ¬åœ°ä»“åº“
```bash
# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æˆ–è€…é€‰æ‹©æ€§æ·»åŠ ç‰¹å®šæ–‡ä»¶
git add frontend/src/components/Map3DInterface.vue
git add backend/app/api/endpoints/chat.py

# æäº¤æ›´æ”¹ï¼ˆåˆ›å»ºä¸€ä¸ªç‰ˆæœ¬å¿«ç…§ï¼‰
git commit -m "ä¿å­˜å½“å‰ç‰ˆæœ¬ï¼š3Dåœ°å›¾ç•Œé¢å®Œæ•´åŠŸèƒ½"
```

### 3. åˆ›å»ºå¤‡ä»½åˆ†æ”¯ï¼ˆæ¨èï¼ï¼‰
```bash
# åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ä¿å­˜å½“å‰ç‰ˆæœ¬
git branch backup-2024-12-30

# æˆ–è€…åˆ›å»ºä¸€ä¸ªå¸¦æè¿°çš„å¤‡ä»½åˆ†æ”¯
git branch backup-before-merge-3dmap-complete

# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch

# åˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
git checkout main
# æˆ–
git checkout master
```

### 4. æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¯é€‰ï¼Œä½†å¼ºçƒˆæ¨èï¼‰
```bash
# æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹
git push origin main

# æ¨é€å¤‡ä»½åˆ†æ”¯åˆ°è¿œç¨‹
git push origin backup-2024-12-30
```

---

## ğŸ”„ äºŒã€æ‹‰å–å¹¶åˆå¹¶æ–°ç‰ˆæœ¬

### 1. ç¡®ä¿å½“å‰å·¥ä½œå·²ä¿å­˜
```bash
# å…ˆæäº¤æˆ–æš‚å­˜å½“å‰æ›´æ”¹
git add .
git commit -m "ä¿å­˜å½“å‰å·¥ä½œ"
```

### 2. æ‹‰å–è¿œç¨‹æœ€æ–°ç‰ˆæœ¬
```bash
# æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯
git remote -v

# è·å–è¿œç¨‹æœ€æ–°ä¿¡æ¯ï¼ˆä¸åˆå¹¶ï¼‰
git fetch origin

# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯
git branch -r

# æŸ¥çœ‹è¿œç¨‹å’Œæœ¬åœ°çš„å·®å¼‚
git log HEAD..origin/main
```

### 3. åˆå¹¶è¿œç¨‹ç‰ˆæœ¬ï¼ˆä¸‰ç§æ–¹å¼ï¼‰

#### æ–¹å¼Aï¼šç›´æ¥åˆå¹¶ï¼ˆä¿ç•™åŒæ–¹æ›´æ”¹ï¼‰
```bash
# æ‹‰å–å¹¶åˆå¹¶
git pull origin main

# å¦‚æœæœ‰å†²çªï¼ŒGit ä¼šæç¤ºï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³
```

#### æ–¹å¼Bï¼šä½¿ç”¨ mergeï¼ˆæ¨èï¼Œä¿ç•™å®Œæ•´å†å²ï¼‰
```bash
# å…ˆæ‹‰å–
git fetch origin

# åˆå¹¶è¿œç¨‹åˆ†æ”¯
git merge origin/main

# å¦‚æœæœ‰å†²çªï¼Œä¼šæ˜¾ç¤ºå†²çªæ–‡ä»¶
```

#### æ–¹å¼Cï¼šä½¿ç”¨ rebaseï¼ˆçº¿æ€§å†å²ï¼Œä½†ä¼šæ”¹å†™å†å²ï¼‰
```bash
# ä¸æ¨èæ–°æ‰‹ä½¿ç”¨ï¼Œä¼šæ”¹å†™æäº¤å†å²
git pull --rebase origin main
```

---

## âš ï¸ ä¸‰ã€å¤„ç†åˆå¹¶å†²çªï¼ˆé€‰æ‹©ä¿ç•™å“ªäº›æ›´æ”¹ï¼‰

### 1. æŸ¥çœ‹å†²çªæ–‡ä»¶
```bash
# åˆå¹¶åï¼ŒæŸ¥çœ‹å“ªäº›æ–‡ä»¶æœ‰å†²çª
git status
```

### 2. æ‰‹åŠ¨è§£å†³å†²çª

å†²çªæ–‡ä»¶ä¼šåŒ…å«ç±»ä¼¼è¿™æ ·çš„æ ‡è®°ï¼š
```
<<<<<<< HEAD
ä½ çš„æœ¬åœ°ä»£ç 
=======
è¿œç¨‹çš„ä»£ç 
>>>>>>> origin/main
```

### 3. ä½¿ç”¨å·¥å…·è§£å†³å†²çª

#### æ–¹æ³•Aï¼šä½¿ç”¨ VS Codeï¼ˆæ¨èï¼‰
```bash
# VS Code ä¼šè‡ªåŠ¨æ£€æµ‹å†²çªï¼Œæä¾›å¯è§†åŒ–ç•Œé¢
# ç‚¹å‡» "Accept Current Change" ä¿ç•™ä½ çš„
# ç‚¹å‡» "Accept Incoming Change" ä½¿ç”¨è¿œç¨‹çš„
# ç‚¹å‡» "Accept Both Changes" ä¿ç•™ä¸¤è€…
```

#### æ–¹æ³•Bï¼šä½¿ç”¨ Git å‘½ä»¤é€‰æ‹©
```bash
# å®Œå…¨ä½¿ç”¨ä½ çš„ç‰ˆæœ¬ï¼ˆè¦†ç›–è¿œç¨‹ï¼‰
git checkout --ours æ–‡ä»¶å

# å®Œå…¨ä½¿ç”¨è¿œç¨‹ç‰ˆæœ¬ï¼ˆè¦†ç›–æœ¬åœ°ï¼‰
git checkout --theirs æ–‡ä»¶å

# ä¾‹å¦‚ï¼š
git checkout --ours frontend/src/components/Map3DInterface.vue
git checkout --theirs backend/app/core/config.py
```

#### æ–¹æ³•Cï¼šæ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶
- æ‰“å¼€å†²çªæ–‡ä»¶
- åˆ é™¤å†²çªæ ‡è®°ï¼ˆ`<<<<<<<`, `=======`, `>>>>>>>`ï¼‰
- ä¿ç•™ä½ æƒ³è¦çš„ä»£ç 
- ä¿å­˜æ–‡ä»¶

### 4. æ ‡è®°å†²çªå·²è§£å†³
```bash
# è§£å†³å†²çªåï¼Œæ·»åŠ æ–‡ä»¶
git add å†²çªæ–‡ä»¶å

# æˆ–è€…æ·»åŠ æ‰€æœ‰å·²è§£å†³çš„æ–‡ä»¶
git add .

# å®Œæˆåˆå¹¶
git commit -m "åˆå¹¶è¿œç¨‹ç‰ˆæœ¬ï¼Œè§£å†³å†²çª"
```

---

## ğŸ”™ å››ã€æ¢å¤åˆ°ä¹‹å‰çš„ç‰ˆæœ¬

### 1. æŸ¥çœ‹æäº¤å†å²
```bash
# æŸ¥çœ‹æäº¤å†å²ï¼ˆå¸¦å›¾å½¢ï¼‰
git log --oneline --graph --all

# æŸ¥çœ‹è¯¦ç»†å†å²
git log

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²
git log -- frontend/src/components/Map3DInterface.vue
```

### 2. æ¢å¤åˆ°ä¹‹å‰çš„æäº¤

#### æ–¹æ³•Aï¼šåˆ›å»ºæ–°åˆ†æ”¯æ¢å¤ï¼ˆæ¨èï¼Œä¸ä¸¢å¤±å½“å‰å·¥ä½œï¼‰
```bash
# æŸ¥çœ‹æäº¤ID
git log --oneline

# åŸºäºæŸä¸ªæäº¤åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b restore-version <æäº¤ID>

# ä¾‹å¦‚ï¼š
git checkout -b restore-version abc1234
```

#### æ–¹æ³•Bï¼šé‡ç½®åˆ°ä¹‹å‰çš„æäº¤ï¼ˆå±é™©ï¼ä¼šä¸¢å¤±ä¹‹åçš„å·¥ä½œï¼‰
```bash
# è½¯é‡ç½®ï¼ˆä¿ç•™å·¥ä½œåŒºçš„æ›´æ”¹ï¼‰
git reset --soft <æäº¤ID>

# æ··åˆé‡ç½®ï¼ˆä¿ç•™å·¥ä½œåŒºï¼Œä½†å–æ¶ˆæš‚å­˜ï¼‰
git reset --mixed <æäº¤ID>

# ç¡¬é‡ç½®ï¼ˆå®Œå…¨ä¸¢å¼ƒï¼Œå±é™©ï¼ï¼‰
git reset --hard <æäº¤ID>
```

#### æ–¹æ³•Cï¼šæ¢å¤ç‰¹å®šæ–‡ä»¶åˆ°ä¹‹å‰çš„ç‰ˆæœ¬
```bash
# æ¢å¤å•ä¸ªæ–‡ä»¶åˆ°æŸä¸ªæäº¤çš„ç‰ˆæœ¬
git checkout <æäº¤ID> -- æ–‡ä»¶è·¯å¾„

# ä¾‹å¦‚ï¼š
git checkout abc1234 -- frontend/src/components/Map3DInterface.vue
```

### 3. åˆ‡æ¢åˆ°å¤‡ä»½åˆ†æ”¯
```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆåŒ…æ‹¬å¤‡ä»½åˆ†æ”¯ï¼‰
git branch -a

# åˆ‡æ¢åˆ°å¤‡ä»½åˆ†æ”¯
git checkout backup-2024-12-30

# å¦‚æœéœ€è¦ï¼Œå¯ä»¥åŸºäºå¤‡ä»½åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ç»§ç»­å·¥ä½œ
git checkout -b continue-from-backup
```

---

## ğŸ›¡ï¸ äº”ã€å®‰å…¨æ“ä½œæµç¨‹ï¼ˆæ¨èï¼‰

### å®Œæ•´çš„å®‰å…¨åˆå¹¶æµç¨‹ï¼š

```bash
# 1. æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# 2. ä¿å­˜å½“å‰å·¥ä½œ
git add .
git commit -m "ä¿å­˜å½“å‰ç‰ˆæœ¬"

# 3. åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-before-merge-$(date +%Y%m%d)

# 4. æ¨é€åˆ°è¿œç¨‹ï¼ˆå¯é€‰ä½†æ¨èï¼‰
git push origin backup-before-merge-$(date +%Y%m%d)

# 5. æ‹‰å–è¿œç¨‹æ›´æ–°
git fetch origin

# 6. æŸ¥çœ‹å·®å¼‚
git log HEAD..origin/main

# 7. åˆå¹¶
git merge origin/main

# 8. å¦‚æœæœ‰å†²çªï¼Œè§£å†³å†²çª
# ï¼ˆä½¿ç”¨ VS Code æˆ–æ‰‹åŠ¨ç¼–è¾‘ï¼‰

# 9. å®Œæˆåˆå¹¶
git add .
git commit -m "åˆå¹¶è¿œç¨‹ç‰ˆæœ¬"

# 10. æ¨é€åˆ°è¿œç¨‹
git push origin main
```

---

## ğŸ“‹ å…­ã€å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹çŠ¶æ€
git status
git diff

# ä¿å­˜æ›´æ”¹
git add .
git commit -m "æè¿°"

# åˆ†æ”¯æ“ä½œ
git branch                    # æŸ¥çœ‹åˆ†æ”¯
git branch åˆ†æ”¯å             # åˆ›å»ºåˆ†æ”¯
git checkout åˆ†æ”¯å           # åˆ‡æ¢åˆ†æ”¯
git branch -d åˆ†æ”¯å          # åˆ é™¤åˆ†æ”¯

# è¿œç¨‹æ“ä½œ
git fetch origin              # è·å–è¿œç¨‹æ›´æ–°
git pull origin main          # æ‹‰å–å¹¶åˆå¹¶
git push origin main          # æ¨é€åˆ°è¿œç¨‹

# æŸ¥çœ‹å†å²
git log --oneline --graph     # å›¾å½¢åŒ–å†å²
git log --all                 # æ‰€æœ‰åˆ†æ”¯å†å²

# æ¢å¤æ“ä½œ
git checkout <æäº¤ID> -- æ–‡ä»¶  # æ¢å¤æ–‡ä»¶
git reset --soft <æäº¤ID>      # è½¯é‡ç½®
git checkout åˆ†æ”¯å            # åˆ‡æ¢åˆ†æ”¯
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åˆå¹¶å‰ä¸€å®šè¦å…ˆæäº¤æˆ–åˆ›å»ºå¤‡ä»½åˆ†æ”¯**
2. **ä½¿ç”¨ `git reset --hard` è¦éå¸¸å°å¿ƒï¼Œä¼šä¸¢å¤±æœªæäº¤çš„å·¥ä½œ**
3. **å†²çªè§£å†³åè®°å¾— `git add` å’Œ `git commit`**
4. **é‡è¦æ›´æ”¹å»ºè®®å…ˆæ¨é€åˆ°è¿œç¨‹ï¼Œä½œä¸ºé¢å¤–å¤‡ä»½**
5. **ä¸ç¡®å®šæ—¶ï¼Œå…ˆåˆ›å»ºåˆ†æ”¯å®éªŒï¼Œä¸è¦ç›´æ¥åœ¨ä¸»åˆ†æ”¯æ“ä½œ**

---

## ğŸ¯ é’ˆå¯¹ä½ çš„æƒ…å†µçš„å…·ä½“å»ºè®®

åŸºäºä½ å½“å‰çš„å·¥ä½œï¼Œå»ºè®®æ‰§è¡Œï¼š

```bash
# 1. ä¿å­˜å½“å‰ç‰ˆæœ¬
git add .
git commit -m "3Dåœ°å›¾ç•Œé¢å®Œæ•´åŠŸèƒ½ï¼šåŒ…å«å¯¼èˆªã€èŠå¤©ã€åœ°å›¾æ˜¾ç¤ºç­‰"

# 2. åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-3dmap-complete-20241230
git push origin backup-3dmap-complete-20241230

# 3. æ‹‰å–å¹¶åˆå¹¶
git fetch origin
git merge origin/main

# 4. å¦‚æœæœ‰å†²çªï¼Œåœ¨ VS Code ä¸­è§£å†³
# 5. å®Œæˆåˆå¹¶åæµ‹è¯•åŠŸèƒ½
# 6. å¦‚æœåˆå¹¶åæœ‰é—®é¢˜ï¼Œå¯ä»¥åˆ‡æ¢å›å¤‡ä»½åˆ†æ”¯ï¼š
#    git checkout backup-3dmap-complete-20241230
```

